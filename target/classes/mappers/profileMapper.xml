<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper

    PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN"

    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">



<mapper namespace="com.freehoon.web.board.profileMapper">

	<select id="searchID" resultType="com.freehoon.web.profile.model.ProfileVO">
		SELECT

		NAME, DEPARTMENT, LEVEL, POSITION, ID_CARD_SERIAL, identifier

		FROM
		personal_profile

		WHERE

		ID_CARD_SERIAL = #{ID_CARD_SERIAL}

	</select>
	
	
	<update id="insertAddtionalProfile" parameterType="com.freehoon.web.profile.model.ProfileVO">

	
	UPDATE personal_profile SET 
	
	HAND_PHONE = #{HAND_PHONE}
	,EMAIL = #{EMAIL}
	,TELEP_HONE = #{TELEP_HONE} 
	
	WHERE 
	ID_CARD_SERIAL = #{ID_CARD_SERIAL}

	</update>
	
	<update id="UpdateUserProfile" parameterType="com.freehoon.web.profile.model.ProfileVO" >
	
	UPDATE personal_profile SET 
	
	HAND_PHONE = #{HAND_PHONE}
	,TELEP_HONE = #{TELEP_HONE} 
	
	WHERE 
	ID_CARD_SERIAL = #{ID_CARD_SERIAL}

	</update>
	
	
	<select id="getMyProfile"  parameterType="Object" resultType="com.freehoon.web.profile.model.ProfileVO">
		SELECT

		*

		FROM
		personal_profile

		WHERE

		identifier = #{DBDATA.identifier}

	</select>
	
	
	<select id="getOtherProfile" parameterType="com.freehoon.web.profile.model.ProfileVO"  resultType="com.freehoon.web.profile.model.ProfileVO">

		SELECT

			NAME, LEVEL, STATUS, BIRTH, DEPARTMENT, POSITION, TELEP_HONE, HAND_PHONE, EMAIL, JOBS, person_image

		FROM

			personal_profile

		WHERE

		 identifier =  #{identifier}
		 
	</select>

	


</mapper>